<!DOCTYPE html>
<html lang="en"><!--
 __  __                __                                     __
/\ \/\ \              /\ \             __                    /\ \
\ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
 \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
  \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
   \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
    \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
                /\___/                \ \____/
                \/__/                  \/___/

Powered by Hydejack v7.5.0 <https://qwtel.com/hydejack/>
--><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><title>Project Kojak Closing | Joseph Hamilton - Solution Oriented Data Scientist</title><meta name="generator" content="Jekyll v3.6.2" /><meta property="og:title" content="Project Kojak Closing" /><meta name="author" content="Joseph Hamilton" /><meta property="og:locale" content="en" /><meta name="description" content="It’s the night before Career Day, and all through the house…" /><meta property="og:description" content="It’s the night before Career Day, and all through the house…" /><meta property="og:site_name" content="Joseph Hamilton - Solution Oriented Data Scientist" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2018-04-04T00:00:00+00:00" /> <script type="application/ld+json"> {"description":"It’s the night before Career Day, and all through the house…","author":{"@type":"Person","name":"Joseph Hamilton"},"@type":"BlogPosting","url":"/project/kojak/2018/04/04/Project-Kojak-Closing/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/assets/icons/icon.png"},"name":"Joseph Hamilton"},"headline":"Project Kojak Closing","dateModified":"2018-04-04T00:00:00+00:00","datePublished":"2018-04-04T00:00:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"/project/kojak/2018/04/04/Project-Kojak-Closing/"},"@context":"http://schema.org"}</script><meta name="keywords" content="Data Science Python"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Joseph Hamilton - Solution Oriented Data Scientist"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="application-name" content="Joseph Hamilton - Solution Oriented Data Scientist"><meta name="msapplication-config" content="/assets/ieconfig.xml"><meta name="theme-color" content="#4fb1ba"><meta name="generator" content="Hydejack v7.5.0"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Joseph Hamilton - Solution Oriented Data Scientist" /><link rel="alternate" href="/project/kojak/2018/04/04/Project-Kojak-Closing/" hreflang="en"><link rel="shortcut icon" href="/assets/icons/favicon.ico"><link rel="apple-touch-icon" href="/assets/icons/icon.png"><link rel="manifest" href="/assets/manifest.json"><link rel="dns-prefetch" href="https://fonts.googleapis.com"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link id="_katexJS" rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.js"><link id="_katexCSS" rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.css"> <script> function stdOnEnd(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function ieOnEnd(n,e){n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,n))}}window.setRelStylesheet=function(n){function e(){this.rel="stylesheet"}var o=document.getElementById(n);o.addEventListener?o.addEventListener("load",e,!1):o.onload=e},window._loaded=!1,window.loadJSDeferred=function(n,e){function o(){window._loaded=!0;var o=document.createElement("script");o.src=n,e&&(("onload"in o?stdOnEnd:ieOnEnd)(o,e),o.onload||stdOnEnd(o,e));var t=document.scripts[0];t.parentNode.insertBefore(o,t)}window._loaded?o():window.addEventListener?window.addEventListener("load",o,!1):window.onload=o}; !function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this); !function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this); window._noPushState = false; window._noDrawer = false; </script> <!--[if gt IE 8]><!----> <script> WebFontConfig = { google: { families: ['Roboto+Slab:700','Noto+Sans:400,400i,700,700i'] }, custom: { families: ['icomoon'], urls: ['/assets/icomoon/style.css'] } }; (function(d) { var wf = d.createElement('script'), s = d.scripts[0]; wf.src = "/assets/bower_components/webfontloader/webfontloader.js"; s.parentNode.insertBefore(wf, s); }(document)); </script> <!--<![endif]--> <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:700%7CNoto+Sans:400,400i,700,700i"><style> html { font-family: Noto Sans, Helvetica, Arial, sans-serif } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-family: Roboto Slab, Helvetica, Arial, sans-serif }</style><link rel="stylesheet" href="/assets/icomoon/style.css"> </noscript> <!--[if gt IE 8]><!----><link rel="stylesheet" href="/assets/css/hydejack-7.5.0.css"><style id="_pageStyle"> .content a:not(.btn){color:#4fb1ba;border-color:rgba(79,177,186,0.2)}.content a:not(.btn):hover{border-color:#4fb1ba}:focus{outline-color:#4fb1ba}.btn-primary{color:#fff;background-color:#4fb1ba;border-color:#4fb1ba}.btn-primary:focus,.btn-primary.focus{box-shadow:0 0 0 3px rgba(79,177,186,0.5)}.btn-primary:hover,.btn-primary.hover{color:#fff;background-color:#409ba3;border-color:#409ba3}.btn-primary:disabled,.btn-primary.disabled{color:#fff;background-color:#4fb1ba;border-color:#4fb1ba}.btn-primary:active,.btn-primary.active{color:#fff;background-color:#409ba3;border-color:#409ba3}::selection{color:#fff;background:#4fb1ba}::-moz-selection{color:#fff;background:#4fb1ba}</style><!--<![endif]--><body><div class="navbar fixed-top"><div class="content"><div class="nav-btn-bar"> <span class="sr-only">Jump to:</span> <a id="_menu" class="nav-btn no-hover" href="#_navigation"> <span class="sr-only">Navigation</span> <span class="icon-menu"></span> </a></div></div></div><hy-push-state><main id="_main" class="content fade-in layout-post" role="main" data-color="#4fb1ba" data-theme-color="" data-image="/assets/img/sidebar-bg.jpg" data-overlay ><article id="post-project-kojak-2018-04-04-Project-Kojak-Closing" class="page post" role="article"><header><h1 class="post-title"> Project Kojak Closing</h1><p class="post-date heading"> <time datetime="2018-04-04T00:00:00+00:00">04 Apr 2018</time> in <a href="/category/project/" class="flip-title">Project</a> / <a href="/category/kojak/" class="flip-title">Kojak</a><div class="hr pb0"></div></header><p>It’s the night before Career Day, and all through the house…<p>Wow. What a ride!<p>I have not been blogging much these past couple of weeks. I may end up back-creating a post or two here to describe the overall project.<p>At the moment, I’ll just try to describe what happened over the past three weeks.<p>I chose to extend Project Four in a loose sense. The purpose and nature wasn’t really anything like the previous project. The main similarity was the source of the data.<p>The goal - find trolls on Reddit.<p>I wanted to focus on a few aspects of “Big Data” for this project.<p>I wrestled with the instructors a bit over this topic because of a core problem that seems to be intrinsic for a lot of Data Science or analytic type projects. One must be careful whether one is chasing a Supervised or Unsupervised problem. This may seem rather easy. Either you have labeled data or you don’t. But the temptation to believe you can create labels can be rather strong. No matter how much I looked for some, there wasn’t really any way to get a list of known trolls. I sort of broke through and won blessing for the topic when I was able to cast it as a study of Anomaly Detection and possibly clustering to learn more about trolls.<p>So, in a sense the focus shifted a bit away from Trolls and more towards Anomaly Detection.<p>The first goal was just to prepare the data. Back in 2015 someone used the Reddit API to create a historical archive of <strong>all</strong> the past Reddit comments. This data bounced around to several forums or locations. Kaggle hosted one month’s worth of data for a challenge. Someone put this up in AWS in a S3 bucket. And, I already knew from Project Four, a file hosting service was keeping these archives going with about a one-month lag from current. So, I wanted to create a second S3 bucket to upload the past couple of years.<p>This wasn’t much more trouble than just firing up EC2 instances and some scripting to download, uncompress and save. I had to do this in a way that didn’t depend on my connection. It took a while. Of course, I <strong>could</strong> have punched in many instances and done this in parallel. But I didn’t feel I needed to rush through this part because I needed to do some research in parallel.<p>I grabbed a number of papers and such to learn what folk have done with similar projects on Reddit data or anomaly detection algorithms, etc. And I started to learn Spark and Dask. I had lots of places to start:<ul><li>David’s Spark and Zepellin Lecture<li>Mike’s Isolation Forest Investigation<li>Tiffany’s Zepellin, GraphX and Graphframes Investigation<li>Alex’s Dask Investigation</ul><p>SOME of these weren’t quite ready when I needed them. I started reading up on Dask before Alex gave his Investigation presentation. But I was able to grab his Jupyter notebooks after his presentation to repeate them personnaly. Same for GraphX with Tiffany.<p>David asked me at one point if I’d settled on Dask or Spark. I hadn’t yet. But I think it was right about that time that something dawned on me that should have been pretty clear from the beginning. The Reddit archives are comment data only. But I’m interested not in finding Troll <strong>comments</strong>. I wanted to find Troll <strong>users</strong>. Some of the papers I’d reviewed had maintained a focus on the per-comment data. This wasn’t my goal at all. I think I’d imagined that I would be using Feature Engineering in order to add a few extra features to the existing features in the data set. There was a small eureka moment when it became very clear to me that I wasn’t adding features - I was creating them… all of them. That is, I had per-comment data but for my modeling I needed per-user data.<p>It then seemed important not to choose between Spark and Dask but to use both of them for their respective advantages. One paper I’d reviewed described using graph-based features. It seemed I could do this with GraphX/Graphframes. So, that’d push me towards Spark. But Dask’s rather native tie-in with Python would facilitate use of SKLearn. At that point, I chose to use both. All I needed to do next was choose how to store data in a way that would work well for both. I settled in on Parquet.<p>Time was the ever-present pressing problem. There was never really enough of it. In one sense, I was well ahead of schedule having my data pulled into the S3 bucket before the informal deadline of “Data Collected”. But… this was somewhat of an illusion since my modeling would only be based on the result of the feature engineering. And I had several things I had to learn simultaneously:<ul><li>Spark<li>Zeppelin<li>EMR clusters<li>GraphX/Graphframes<li>Dask<li>Dask clusters (which eventually meant Kubernetes)</ul><p>The other interesting aspect of this project was that we formed small accountability groups. Within these we orderd in such a way that everyone was responsible for another. In my group, I was responsbile for Tiffany who was responsible for Chris who was responsible for me.<p>So, I had to pay attention to Tiffany’s status as she progressed through her project. When I heard she was having issues due to getting kicked out of her SSH connection to her EC2 instance, I arranged a quick tutorial session where I showed her how to take advantage of redirects, background jobs and nohup to ensure her data scraping jobs persisted regardless of the connection. This was essentially what I had done with my EC2 instances for extracting and storing data in the S3 bucket.<p>Then later on when I was working through the Zeppelin notebook she created for her GraphX investigation, I ran into the same roadblock she’d found with regards to getting Graphframes. There’s something a tad messed up at the moment with regards to installing it for use with Zeppelin. I found a way to get it workign and quickly shared it with her. She promised to help me with Tableau later on… but alas… there’s really not that much to visualize with Anomaly Detection.<p>There came a point where we had to end the modeling and start working on a presentation. Tiffany, Chris and I met to discuss strategies. And then later David and Alice met with our team. As they’d told us they would, they didn’t ask each of us to describe our approach for our project. Instead we had to describe the project and presentation strategy for the person we were responsible for.</article><hr class="dingbat related" /><aside class="about related mt4 mb4" role="complementary"><div class="author mt4"> <img src="/assets/img/profile_400_400.jpg" class="avatar" alt="Joseph Hamilton" /><h2 class="page-title hr"> About</h2><p>I love Data Science, automation, scripting, chasing curiosities, exploring and learning new things.<div class="sidebar-social"> <span class="sr-only">Social:</span><ul><li> <a href="https://github.com/joseph-r-hamilton" title="GitHub" class="no-mark-external"> <span class="icon-github"></span> <span class="sr-only">GitHub</span> </a><li> <a href="mailto:hamilton.joseph.r@gmail.com" title="Email" class="no-mark-external"> <span class="icon-mail"></span> <span class="sr-only">Email</span> </a><li> <a href="https://www.linkedin.com/in/joseph-r-hamilton" title="LinkedIn" class="no-mark-external"> <span class="icon-linkedin2"></span> <span class="sr-only">LinkedIn</span> </a><li> <a href="https://www.hackerrank.com/josephrhamilton" title="Hacker Rank" class="no-mark-external"> <span class="icon-hackerrank"></span> <span class="sr-only">Hacker Rank</span> </a></ul></div></div></aside><aside class="related mb4" role="complementary"><h2 class="hr">Related Posts</h2><ul class="related-posts"><li> <a href="/project/kojak/2018/03/25/Dask-on-AWS/" class="h4 flip-title"> <span>Dask and Spark</span> </a> <time class="heading faded fine" datetime="2018-03-25T00:00:00+00:00">25 Mar 2018</time><li> <a href="/project/kojak/2018/03/22/Trouble-with-Clusters/" class="h4 flip-title"> <span>Trouble with Clusters</span> </a> <time class="heading faded fine" datetime="2018-03-22T00:00:00+00:00">22 Mar 2018</time><li> <a href="/project/kojak/2018/03/15/Project-Kojak-Begins/" class="h4 flip-title"> <span>Project Kojak Begins</span> </a> <time class="heading faded fine" datetime="2018-03-15T00:00:00+00:00">15 Mar 2018</time></ul></aside><footer role="contentinfo"><hr/><p><small class="copyright">© 2017. All rights reserved. </small><hr class="sr-only"/></footer></main><hy-drawer><header id="_sidebar" class="sidebar" role="banner"><div class="sidebar-bg sidebar-overlay" style="background-color:#4fb1ba;background-image:url(/assets/img/sidebar-bg.jpg)"></div><div class="sidebar-sticky"><div class="sidebar-about"><h2 class="h1"><a href="/">Joseph Hamilton - Solution Oriented Data Scientist</a></h2><p class=""> A blog and project tracker</div><nav class="sidebar-nav heading" role="navigation"> <span class="sr-only">Navigation:</span><ul><li> <a id="_navigation" href="/blog/" class="sidebar-nav-item" > Blog </a><li> <a href="/about/" class="sidebar-nav-item" > About </a><li> <a href="/projects/" class="sidebar-nav-item" > Projects </a></ul></nav><div class="sidebar-social"> <span class="sr-only">Social:</span><ul><li> <a href="https://github.com/joseph-r-hamilton" title="GitHub" class="no-mark-external"> <span class="icon-github"></span> <span class="sr-only">GitHub</span> </a><li> <a href="mailto:hamilton.joseph.r@gmail.com" title="Email" class="no-mark-external"> <span class="icon-mail"></span> <span class="sr-only">Email</span> </a><li> <a href="https://www.linkedin.com/in/joseph-r-hamilton" title="LinkedIn" class="no-mark-external"> <span class="icon-linkedin2"></span> <span class="sr-only">LinkedIn</span> </a><li> <a href="https://www.hackerrank.com/josephrhamilton" title="Hacker Rank" class="no-mark-external"> <span class="icon-hackerrank"></span> <span class="sr-only">Hacker Rank</span> </a></ul></div></div></header></hy-drawer> </hy-push-state> <!--[if gt IE 9]><!----> <script>loadJSDeferred('/assets/js/hydejack-7.5.0.js');</script> <!--<![endif]--><hr class="sr-only"/><h2 class="sr-only">Templates (for web app):</h2><template id="_animation-template"><div class="animation-main fixed-top"><div class="content"><div class="page"></div></div></div></template> <template id="_loading-template"><div class="loading"> <span class="sr-only">Loading…</span> <span class="icon-cog"></span></div></template> <template id="_error-template"><div class="page"><h1 class="page-title">Error</h1><p class="lead"> Sorry, an error occurred while loading <a class="this-link" href=""></a>.</div></template> <template id="_back-template"> <a id="_back" class="back nav-btn no-hover"> <span class="sr-only">Back</span> <span class="icon-arrow-left2"></span> </a> </template> <template id="_permalink-template"> <a href="#" class="permalink"> <span class="sr-only">Permalink</span> <span class="icon-link"></span> </a> </template> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-115360087-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-115360087-1'); </script></html>
